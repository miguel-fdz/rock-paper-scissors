<!DOCTYPE html>

<html>
    <head>
        <title>Rock, Paper, Scissors..Shoot!</title>
    </head>


    <body>
        <script>
            function computerMove() {
                const choices = ['rock','paper','scissors']; //Establish the possible choices for the computer
                let selection = Math.floor(Math.random() * 3); //Computer randomly selects from integers 0 through 2 (rounded down for accuracy with Math.floor function)
                return choices[selection]; //Computer uses random number generated to select item from list
            }

            function playerMove() {  
                return prompt("Rock, paper, scissors... Shoot!").toLowerCase(); //prompt user for his move
            }

            function playRound() { //play a round 
                let playerSelection =  playerMove();//.toLowerCase; //ask player for his move
                console.log('You play: ' + playerSelection);
                let computerSelection = computerMove();
                console.log('Computer plays: ' + computerSelection);
                if (playerSelection == 'rock' && computerSelection == 'scissors') return playerScore++; 
                else if (playerSelection == 'paper' && computerSelection == 'rock') return playerScore++;
                else if (playerSelection == 'scissors' && computerSelection == 'paper') return playerScore++;
                else if (playerSelection == 'rock' && computerSelection == 'paper') return computerScore++;
                else if (playerSelection == 'paper' && computerSelection == 'scissors') return computerScore++;
                else if (playerSelection == 'scissors' && computerSelection == 'rock') return computerScore++;
                else {
                    console.log('Play again!');
                    playRound(); //if player and computer chose the same move or player input is invalid, play again
                } 
            }

            function game() { //
                for (let index = 0; index < 5; index++) { //play five rounds
                    playRound();
                    console.log('Player score: ' + playerScore + ' || Computer score: ' + computerScore);
                }
                if (playerScore > computerScore) alert("You win!"); //alert the winner
                else alert("Computer wins!");
            }
            
            let playerScore = 0;
            let computerScore = 0;
            game(); //start game

        </script>
    </body>
</html>